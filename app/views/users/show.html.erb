<div class="user-header text-center">
  <h1 class="title-medium">
    <%= @user.name %>
  </h1>

  <div class="buffer-both">
    <%= link_to 'Редактировать профиль', edit_user_path(@user) if current_user == @user %>
  </div>

  <div class="user-image-div">
    <%= image_tag user_avatar(@user), class: 'user-image', alt: 'Photo' %>
  </div>

  <h2 class="title-small buffer-both">
    @<%= @user.username %>
  </h2>

  <h3 class="title-small buffer-both">
    Пользователю задали <%= @questions.count %>
    <%= Inclination.incline(@questions.count, 'вопрос', 'вопроса', 'вопросов') %>
  </h3>

  <% if @user == current_user %>
    <h4 class="title-small buffer-both">
      <% answered_questions_count = @questions.reject { |question| question.answer.nil? }.count %>
      Отвечено: <%= answered_questions_count %>
      <%= Inclination.incline(answered_questions_count, 'вопрос', 'вопроса', 'вопросов') %>,
      не отвечено: <%= alone_questions_count = @questions.count - answered_questions_count %>
      <%= Inclination.incline(alone_questions_count, 'вопрос', 'вопроса', 'вопросов') %>
    </h4>
  <% end %>

  <div class="user-ask-button container text-center" id='ask-button'>
    <%= link_to "Спроси меня", '', class: 'button button-light', id: 'ask-button' %>
  </div>
</div>

<div class="user-question-form-div column-1-4 column-1-4-right" id='ask-form'>
  <div class="user-question-form buffer-both">
    <div class="form">
      <%= form_for @new_question do |f| %>
      <%= f.hidden_field :user_id %>

      <div class="form-field">
        <%= f.label "Ваш вопрос для @#{@user.username}", class: 'form-label' %>
        <%= f.text_area :text, class: 'form-textarea' %>
      </div>

      <div class="form-action">
        <%= submit_tag 'Задать вопрос', class: 'button button-green' %>
      </div>
      <% end %>
    </div>
  </div>
</div>


<div class="column-3-4">
  <div class="user-question buffer-both">
    <div class="question-list">
      <% @questions.each do |question| %>
      <%= render partial: 'questions/question', object: question %>
      <% end %>
    </div>
  </div>
</div>
